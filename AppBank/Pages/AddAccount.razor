@page "/addaccount"
@inherits LayoutComponentBase
@using AppBank.Models
@using AppBank.Components
@using AppBank.Services
@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager NavigationManager
@inject HttpClient Http

<div class="container mt-4">
    <div class="row d-flex mt-3">
        <div class="col-md-3">
            <EditForm Model="@Account">
                <DataAnnotationsValidator />
                <div class="form-group mb-2 mr-2">
                   
                    <input @bind="Account.NewCustomerId" class="form-control" type="number" placeholder="Default input" aria-label="default input" id="NewCustomerId">
                </div>
            </EditForm>
        </div>
        <div class="col-md-8">
            <Button Color="ButtonColor.Light" Outline="true" class="btn btn-block text-nowrap btnn" style="color: #5f615f;" @onclick="AddCustomerIdAction">
                <Icon Name="IconName.PlusCircle" /> Add Customer ID
            </Button>
        </div>

        <div class="col-md-3 mt-1">
            <EditForm Model="@Account">
                <DataAnnotationsValidator />
                <div class="form-group mb-2 mr-2">
                    <div class="input-group">
                        <select @bind="SelectedCustomerId" class="form-select" aria-label="Default select">
                            <option selected>Select Customer ID</option>
                            @foreach (var customerId in CustomerIds)
                            {
                                <option value="@customerId">@customerId</option>
                            }
                        </select>
                       
                    </div>
                </div>
            </EditForm>
        </div>

        <div class="col-md-8 mt-1">
            <Button Color="ButtonColor.Light" Outline="true" class="btn btn-block text-nowrap btnn" style="color:#5f615f;" @onclick="ShowCustomerIDAction">
                Customer ID
            </Button>
        </div>
    </div>

    <div class="mt-4" style="padding:0; margin:0;">
        <AvailableAccount SelectedCustomerId="@SelectedCustomerId" />
    </div>
</div>
